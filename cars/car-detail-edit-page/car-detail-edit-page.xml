<Page class="page"
    navigatingTo="onNavigatingTo"
    xmlns:customImg="cars/car-detail-edit-page/my-image-add-remove"
    xmlns="http://schemas.nativescript.org/tns.xsd">

    <ActionBar class="action-bar">
        <!--HACK - we should remove the navigation button-->
        <NavigationButton visibility="collapsed" />
        <Label class="action-bar-title" text="Edit Car Details" horizontalAlignment="center"></Label>
        <ActionItem 
            tap="onCancelButtonTap" 
            ios.position="left" 
            android.position="left">
            <Label text="Cancel" verticalAlignment="center" class="action-item"></Label>
        </ActionItem>
        <ActionItem 
            tap="onDoneButtonTap" 
            ios.position="right" 
            android.position="right">
            <Label text="Done" verticalAlignment="center" class="action-item"></Label>
        </ActionItem>
    </ActionBar>

    <GridLayout class="page-content">
        <ScrollView>
            <StackLayout class="car-list">
                <Label text="CAR MAKE" class="car-list-odd" />
                <TextField text="{{ car.name }}" hint="Enter your car make" class="car-list-even" />

                <GridLayout rows="*, 55, *" columns="*, auto" class="car-list-odd" >
                    <Label text="PRICE PER DAY" />
                    <Label col="1" horizontalAlignment="right" class="text-primary car-list-price">
                        <FormattedString>
                            <Span text="â‚¬" />
                            <Span text="{{ car.price }}" />
                        </FormattedString>
                    </Label>

                    <Slider row="1" colSpan="2" value="{{ car.price, car.price | roundingValueConverter }}" />

                    <Label row="2" colSpan="2" text="ADD OR REMOVE IMAGE" />
                </GridLayout>
                
                <StackLayout class="car-list-even">
                    <!--
                    MyImageAddRemove is a custom component, that wraps an imagepicker plugin and provides custom design and logic
                    on top of it. Check out the custom component at /cars/car-detail-edit-page/image-add-remove.
                    -->
                    <customImg:MyImageAddRemove />
                </StackLayout>

                <Label text="CLASS" class="car-list-odd" />
                <GridLayout columns="*, auto" tap="onSelectorTap" tag="class" class="car-list-even">
                    <Label text="{{ car.class }}" />
                    <Label text="&#xf054;" class="fa text-secondary" col="1" horizontalAlignment="center" verticalAlignment="center" />
                </GridLayout>

                <Label text="DOORS" class="car-list-odd" />
                <GridLayout columns="*, auto" tap="onSelectorTap" tag="doors" class="car-list-even">
                    <Label text="{{ car.doors }}" />
                    <Label text="&#xf054;" class="fa text-secondary" col="1" horizontalAlignment="center" verticalAlignment="center" />
                </GridLayout>

                <Label text="SEATS" class="car-list-odd" />
                <GridLayout columns="*, auto" tap="onSelectorTap" tag="seats" class="car-list-even">
                    <Label text="{{ car.seats }}" />
                    <Label text="&#xf054;" class="fa text-secondary" col="1" horizontalAlignment="center" verticalAlignment="center" />
                </GridLayout>

                <Label text="TRANSMISSION" class="car-list-odd" />
                <GridLayout columns="*, auto" tap="onSelectorTap" tag="transmission" class="car-list-even">
                    <Label text="{{ car.transmission }}" />
                    <Label text="&#xf054;" class="fa text-secondary" col="1" horizontalAlignment="center" verticalAlignment="center" />
                </GridLayout>
                
                <GridLayout rows="*, 55" columns="*, auto" class="car-list-odd" >
                    <Label text="LUGGAGE" />
                    <Label col="1" horizontalAlignment="right" class="text-primary">
                        <FormattedString>
                            <Span text="{{ car.luggage }}" />
                            <Span text=" Bag(s)" />
                        </FormattedString>
                    </Label>

                    <Slider row="1" colSpan="2" minValue="0" maxValue="5" value="{{ car.luggage, car.luggage | roundingValueConverter }}" />
                </GridLayout>

            </StackLayout>
        </ScrollView>

        <ActivityIndicator busy="{{ isUpdating }}" />
    </GridLayout>
</Page>
